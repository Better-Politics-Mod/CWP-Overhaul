namespace = imf_events

imf_events.1 = { # Loan Application Accepted
	type = country_event	
	placement = ROOT
	title = imf_events.1.t
	desc = imf_events.1.d
	flavor = imf_events.1.f

	duration = 3
	icon = "gfx/interface/icons/cwp_icons/imf.dds"

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

	immediate = {

	}
	# TODO - AI SCRIPTING
	option = {
		name = imf_events.1.a
		if = {
			limit = {
				var:imf_loan_application_type = 1
			}
			add_journal_entry = {
				type = je_imf_concessionary_loan
			}
		}
		if = {
			limit = {
				var:imf_loan_application_type = 2
			}
			add_journal_entry = {
				type = je_imf_nonconcessionary_loan
			}
		}
		change_variable = {
			name = imf_debt
			add = imf_application_loan_amount
		}
		change_variable = {
			name = imf_credit
			add = {
				value = imf_application_loan_amount
				subtract = imf_loan_application_upfront_principal
			}
		}
		set_variable = {
			name = imf_debt_years
			value = imf_application_payment_due_years
		}
		if = {
			limit = {
				var:imf_loan_application_upfront_principal > 1
			}
			add_treasury = imf_application_upfront_principle_domestic
		}
	}
	option = {
		name = imf_events.1.b
		reset_loan_application_values = yes
	}

}

imf_events.2 = { # Loan Application Denied
	type = country_event	
	placement = ROOT
	title = imf_events.2.t
	desc = imf_events.2.d
	flavor = imf_events.2.f

	duration = 3
	icon = "gfx/interface/icons/cwp_icons/imf.dds"

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_springtime_of_nations.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/springtime_of_nation"

	immediate = {

	}
	# TODO - AI SCRIPTING
	option = {
		name = imf_events.2.a
	}
	option = {
		name = imf_events.2.b
	}

}