namespace = a_new_constitution
#REGION Legacy of the Resistance
a_new_constitution.101 = {
	type = country_event
	title = a_new_constitution.101.t
	desc = a_new_constitution.101.d
	flavor = a_new_constitution.101.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "floating_billets"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		c:FRA ?= root
		not = {
			has_variable = fra_constitutional_referendum
		}
	}
	option = {
		name = a_new_constitution.101.a
		default_option = yes
		set_variable = fra_constitutional_referendum
		add_modifier = {
			name = legacy_of_the_resistance
			years = 20
			is_decaying = yes
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.102
				days = {
					30
					60
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION Drafting a new constitution
a_new_constitution.102 = {
	type = country_event
	title = a_new_constitution.102.t
	desc = a_new_constitution.102.d
	flavor = a_new_constitution.102.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	immediate = {
		set_variable = drafting_a_new_constitution
		add_journal_entry = fra_a_new_constitution
	}
	option = {
		name = a_new_constitution.102.a
		default_option = yes
		add_modifier = {
			name = drafting_a_new_constitution
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.103
				days = {
					15
					30
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION DeGaulle Resigns!
a_new_constitution.103 = {
	type = country_event
	title = a_new_constitution.103.t
	desc = a_new_constitution.103.d
	flavor = a_new_constitution.103.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	# immediate = {
	# 	change_variable = {
	# 		name = fra_constitutional_referendum_success
	# 		add = 50
	# 	}
	# }
	#OPT Fuck DeGaulle
	option = {
		name = a_new_constitution.103.a
		default_option = yes
		ig:ig_laborists = {
			add_ruling_interest_group = yes
		}
		ig:ig_urbanists = {
			add_ruling_interest_group = yes
		}
		ig:ig_moralists = {
			add_ruling_interest_group = yes
		}
		ig:ig_securocrats = {
			remove_ruling_interest_group = yes
		}
		random_interest_group = {
			limit = {
				is_in_government = yes
			}
			leader = {
				set_character_as_ruler = yes
			}
		}
		change_variable = {
			name = fra_constitutional_referendum_communist_support
			add = 1
		}
		change_variable = {
			name = fra_constitutional_referendum_socialist_support
			add = 1
		}
		change_variable = {
			name = fra_constitutional_referendum_moralist_support
			add = 1
		}
		change_variable = {
			name = fra_constitutional_referendum_gaullist_support
			add = -3
		}
		#TODO: MAKE SURE YOU ACTIVATE REP DEM LATER ONCE THE CONSTITUTION IS WRITTEN
		activate_law = law_type:law_parliamentary
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.201
				days = {
					1
					8
				}
			}
		}
		ai_chance = {
			base = 60
		}
	}
	#OPT Bring him back
	option = {
		name = a_new_constitution.103.b
		change_variable = {
			name = fra_constitutional_referendum_communist_support
			add = -3
		}
		change_variable = {
			name = fra_constitutional_referendum_socialist_support
			add = -3
		}
		change_variable = {
			name = fra_constitutional_referendum_moralist_support
			add = -3
		}
		change_variable = {
			name = fra_constitutional_referendum_gaullist_support
			add = 1
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.301
				days = {
					1
					8
				}
			}
		}
		ai_chance = {
			base = 40
		}
	}
}

#REGION: Constitutional Debate Gridlocked
a_new_constitution.201 = {
	type = country_event
	title = a_new_constitution.201.t
	desc = a_new_constitution.201.d
	flavor = a_new_constitution.201.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT a strong senate
	option = {
		name = a_new_constitution.201.a
		custom_tooltip = {
			text = a_new_constitution.201.a.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = -3
			}
			change_variable = {
				name = fra_constitutional_referendum_moralist_support
				add = 1
			}
		}
		add_modifier = {
			name = bicameral_parliamentary_republic
			is_decaying = no
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.202
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 20
		}
	}
	#OPT Compromise
	option = {
		name = a_new_constitution.201.b
		default_option = yes
		custom_tooltip = {
			text = a_new_constitution.201.b.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_socialist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_moralist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = 1
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.202
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 60
		}
	}
	#OPT National Assembly
	option = {
		name = a_new_constitution.201.c
		custom_tooltip = {
			text = a_new_constitution.201.c.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_moralist_support
				add = -3
			}
		}
		add_modifier = {
			name = unicameral_parliamentary_republic
			is_decaying = no
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.202
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 20
		}
	}
}

#REGION: SECOND SPEECH of BAYEUX
a_new_constitution.202 = {
	type = country_event
	title = a_new_constitution.202.t
	desc = a_new_constitution.202.d
	flavor = a_new_constitution.202.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: De Gaulle speaks
	option = {
		name = a_new_constitution.202.a
		default_option = yes
		custom_tooltip = {
			text = a_new_constitution.202.a.tt
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = -3
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.601
				days = {
					30
					90
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: De Gaulle proposes a trans-partisan committee
a_new_constitution.301 = {
	type = country_event
	title = a_new_constitution.301.t
	desc = a_new_constitution.301.d
	flavor = a_new_constitution.301.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: The only way to save France
	option = {
		name = a_new_constitution.301.a
		custom_tooltip = {
			text = a_new_constitution.301.a.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = -3
			}
			change_variable = {
				name = fra_constitutional_referendum_socialist_support
				add = -3
			}
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = 1
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.501
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 40
		}
	}
	option = {
		name = a_new_constitution.301.b
		default_option = yes
		custom_tooltip = {
			text = a_new_constitution.301.b.tt
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = -3
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.401
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 60
		}
	}
}

#REGION: Constituent Assembly Finishes Draft
a_new_constitution.401 = {
	type = country_event
	title = a_new_constitution.401.t
	desc = a_new_constitution.401.d
	flavor = a_new_constitution.401.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Compromises
	option = {
		name = a_new_constitution.401.a
		default_option = yes
		activate_law = law_type:law_independent_bureaucrats
		add_modifier = compromise_presidential_republic
		custom_tooltip = {
			text = a_new_constitution.401.a.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_socialist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_moralist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = -3
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.601
				days = {
					30
					90
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Trans-partisan committee finishes draft
a_new_constitution.501 = {
	type = country_event
	title = a_new_constitution.501.t
	desc = a_new_constitution.501.d
	flavor = a_new_constitution.501.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Presidents!
	option = {
		name = a_new_constitution.501.a
		default_option = yes
		activate_law = law_type:law_representative_democracy
		add_modifier = full_presidential_republic
		custom_tooltip = {
			text = a_new_constitution.501.a.tt
			change_variable = {
				name = fra_constitutional_referendum_communist_support
				add = -3
			}
			change_variable = {
				name = fra_constitutional_referendum_moralist_support
				add = 1
			}
			change_variable = {
				name = fra_constitutional_referendum_gaullist_support
				add = 1
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.601
				days = {
					20
					60
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Referendum on the New Constitution
a_new_constitution.601 = {
	type = country_event
	title = a_new_constitution.601.t
	desc = a_new_constitution.601.d
	flavor = a_new_constitution.601.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: VOTING!
	option = {
		name = a_new_constitution.601.a
		default_option = yes
		if = {
			limit = {
				root.var:fra_constitutional_referendum_success >= 95
			}
			#opt: trigger landslide approval event
			hidden_effect = {
				trigger_event = {
					id = a_new_constitution.701
					days = {
						30
						60
					}
				}
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_success >= 80
			}
			#opt: trigger approve narrow margin event
			hidden_effect = {
				trigger_event = {
					id = a_new_constitution.702
					days = {
						1
						8
					}
				}
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_success >= 50
			}
			#opt: trigger reject narrow margin event
			hidden_effect = {
				trigger_event = {
					id = a_new_constitution.703
					days = {
						1
						8
					}
				}
			}
		}
		else = {
			#opt: trigger reject event
			hidden_effect = {
				trigger_event = {
					id = a_new_constitution.704
					days = {
						1
						8
					}
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Constitution Approved by a Landslide
a_new_constitution.701 = {
	type = country_event
	title = a_new_constitution.701.t
	desc = a_new_constitution.701.d
	flavor = a_new_constitution.701.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Landslide approval!
	option = {
		name = a_new_constitution.701.a
		default_option = yes
		if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support > 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_public_utility_nationalization
			activate_law = law_type:law_interventionism
			activate_law = law_type:law_parliamentary
			activate_law = law_type:law_devolved
			activate_law = law_type:law_representative_democracy
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support > 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support <= 0
				root.var:fra_constitutional_referendum_gaullist_support <= 0
			}
			if = {
				limit = {
					root.var:fra_constitutional_referendum_communist_support >= 3
					root.var:fra_constitutional_referendum_socialist_support <= 1
				}
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_total_nationalization
				activate_law = law_type:law_socialization
				activate_law = law_type:law_council_elective
				activate_law = law_type:law_unitary
				activate_law = law_type:law_anocracy
			}
			else = {
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_resource_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support <= 0
			}
			if = {
				limit = {
					var:fra_constitutional_referendum_socialist_support > root.var:fra_constitutional_referendum_moralist_support
				}
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_resource_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
			else = {
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_public_utility_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_executive
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support <= 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			if = {
				limit = {
					root.var:fra_constitutional_referendum_moralist_support >= 3
					root.var:fra_constitutional_referendum_gaullist_support <= 1
				}
				activate_law = law_type:law_free_trade
				activate_law = law_type:law_public_utility_nationalization
				activate_law = law_type:law_free_market
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_federal
				activate_law = law_type:law_representative_democracy
			}
			else = {
				activate_law = law_type:law_free_trade
				activate_law = law_type:law_no_nationalization
				activate_law = law_type:law_free_market
				activate_law = law_type:law_executive
				activate_law = law_type:law_federal
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support <= 0
				root.var:fra_constitutional_referendum_moralist_support <= 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_no_nationalization
			activate_law = law_type:law_free_market
			activate_law = law_type:law_executive
			activate_law = law_type:law_federal
			activate_law = law_type:law_consensus_democracy
		}
		#hack: If all else fails, adopt a compromise constitution, like the first option if all groups were happy. This should only happen if all groups are unhappy.
		#todo: implement "hell" path
		else = {
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_public_utility_nationalization
			activate_law = law_type:law_interventionism
			activate_law = law_type:law_parliamentary
			activate_law = law_type:law_devolved
			activate_law = law_type:law_representative_democracy
		}
		add_modifier = {
			name = legitimate_constitution
			years = 20
			is_decaying = yes
		}
		remove_modifier = drafting_a_new_constitution
		remove_variable = drafting_a_new_constitution
		hidden_effect = {
			set_variable = IVth_Republic
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Constitution Approved by a Narrow Margin
a_new_constitution.702 = {
	type = country_event
	title = a_new_constitution.702.t
	desc = a_new_constitution.702.d
	flavor = a_new_constitution.702.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Narrow Margin Approval!
	option = {
		name = a_new_constitution.702.a
		default_option = yes
		if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support > 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_public_utility_nationalization
			activate_law = law_type:law_interventionism
			activate_law = law_type:law_parliamentary
			activate_law = law_type:law_devolved
			activate_law = law_type:law_representative_democracy
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support > 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support <= 0
				root.var:fra_constitutional_referendum_gaullist_support <= 0
			}
			if = {
				limit = {
					root.var:fra_constitutional_referendum_communist_support >= 3
					root.var:fra_constitutional_referendum_socialist_support <= 1
				}
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_total_nationalization
				activate_law = law_type:law_socialization
				activate_law = law_type:law_council_elective
				activate_law = law_type:law_unitary
				activate_law = law_type:law_anocracy
			}
			else = {
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_resource_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support > 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support <= 0
			}
			if = {
				limit = {
					var:fra_constitutional_referendum_socialist_support > root.var:fra_constitutional_referendum_moralist_support
				}
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_resource_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
			else = {
				activate_law = law_type:law_protectionism
				activate_law = law_type:law_public_utility_nationalization
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_executive
				activate_law = law_type:law_devolved
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support <= 0
				root.var:fra_constitutional_referendum_moralist_support > 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			if = {
				limit = {
					root.var:fra_constitutional_referendum_moralist_support >= 3
					root.var:fra_constitutional_referendum_gaullist_support <= 1
				}
				activate_law = law_type:law_free_trade
				activate_law = law_type:law_public_utility_nationalization
				activate_law = law_type:law_free_market
				activate_law = law_type:law_parliamentary
				activate_law = law_type:law_federal
				activate_law = law_type:law_representative_democracy
			}
			else = {
				activate_law = law_type:law_free_trade
				activate_law = law_type:law_no_nationalization
				activate_law = law_type:law_free_market
				activate_law = law_type:law_executive
				activate_law = law_type:law_federal
				activate_law = law_type:law_representative_democracy
			}
		}
		else_if = {
			limit = {
				root.var:fra_constitutional_referendum_communist_support <= 0
				root.var:fra_constitutional_referendum_socialist_support <= 0
				root.var:fra_constitutional_referendum_moralist_support <= 0
				root.var:fra_constitutional_referendum_gaullist_support > 0
			}
			if = {
				limit = {
					not = {
						has_technology_researched = civil_rights
					}
				}
				add_technology_researched = civil_rights
			}
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_no_nationalization
			activate_law = law_type:law_free_market
			activate_law = law_type:law_executive
			activate_law = law_type:law_federal
			activate_law = law_type:law_consensus_democracy
		}
		#hack: If all else fails, adopt a compromise constitution, like the first option if all groups were happy. This should only happen if all groups are unhappy.
		#todo: implement "hell" path
		else = {
			activate_law = law_type:law_free_trade
			activate_law = law_type:law_public_utility_nationalization
			activate_law = law_type:law_interventionism
			activate_law = law_type:law_parliamentary
			activate_law = law_type:law_devolved
			activate_law = law_type:law_representative_democracy
		}
		add_modifier = {
			name = weak_constitution
			years = 20
			is_decaying = yes
		}
		remove_modifier = drafting_a_new_constitution
		remove_variable = drafting_a_new_constitution
		hidden_effect = {
			set_variable = IVth_Republic
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Constitution Rejected by a Narrow Margin
a_new_constitution.703 = {
	type = country_event
	title = a_new_constitution.703.t
	desc = a_new_constitution.703.d
	flavor = a_new_constitution.703.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Narrow Margin Rejection!
	option = {
		name = a_new_constitution.703.a
		default_option = yes
		add_modifier = {
			name = failed_constitutional_project
			months = 12
			is_decaying = yes
		}
		#2% radicals
		add_radicals = {
			value = small_radicals
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.705
				days = {
					90
					120
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Constitution Rejected by a Landslide
a_new_constitution.704 = {
	type = country_event
	title = a_new_constitution.704.t
	desc = a_new_constitution.704.d
	flavor = a_new_constitution.704.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: Landslide Rejection!
	option = {
		name = a_new_constitution.704.a
		default_option = yes
		add_modifier = {
			name = failed_constitutional_project
			months = 12
			multiplier = 2
			is_decaying = yes
		}
		#5% radicals
		add_radicals = {
			value = medium_radicals
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.705
				days = {
					90
					120
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

#REGION: Elections for a second Constituent Assembly
a_new_constitution.705 = {
	type = country_event
	title = a_new_constitution.705.t
	desc = a_new_constitution.705.d
	flavor = a_new_constitution.705.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	#OPT: communists tone down their demands.
	option = {
		name = a_new_constitution.705.a
		default_option = yes
		random_list = {
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 0
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 1
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 2
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 3
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 4
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 5
						}
						add = 10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.a.tt
					change_variable = {
						name = fra_constitutional_referendum_communist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_socialist_support
						add = -3
					}
					change_variable = {
						name = fra_constitutional_referendum_moralist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_gaullist_support
						add = 1
					}
				}
			}
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 0
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 1
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 2
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 3
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 4
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_communist_support > 5
						}
						add = -10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.n.tt
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 0
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 1
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 2
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 3
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 4
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_communist_support > 5
				}
				add = 10
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.706
				days = {
					30
					60
				}
			}
		}
	}
	#OPT: socialists tone down their demands
	option = {
		name = a_new_constitution.705.b
		activate_law = law_type:law_representative_democracy
		random_list = {
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 0
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 1
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 2
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 3
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 4
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 5
						}
						add = 10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.b.tt
					change_variable = {
						name = fra_constitutional_referendum_communist_support
						add = -3
					}
					change_variable = {
						name = fra_constitutional_referendum_socialist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_moralist_support
						add = -3
					}
					change_variable = {
						name = fra_constitutional_referendum_gaullist_support
						add = 1
					}
				}
			}
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 0
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 1
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 2
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 3
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 4
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_socialist_support > 5
						}
						add = -10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.n.tt
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 0
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 1
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 2
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 3
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 4
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_socialist_support > 5
				}
				add = 10
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.706
				days = {
					30
					60
				}
			}
		}
	}
	#OPT: moralists tone down their demands
	option = {
		name = a_new_constitution.705.c
		activate_law = law_type:law_representative_democracy
		random_list = {
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 0
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 1
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 2
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 3
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 4
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 5
						}
						add = 10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.c.tt
					change_variable = {
						name = fra_constitutional_referendum_communist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_socialist_support
						add = -3
					}
					change_variable = {
						name = fra_constitutional_referendum_moralist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_gaullist_support
						add = -3
					}
				}
			}
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 0
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 1
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 2
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 3
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 4
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_moralist_support > 5
						}
						add = -10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.n.tt
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 0
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 1
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 2
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 3
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 4
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_moralist_support > 5
				}
				add = 10
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.706
				days = {
					30
					60
				}
			}
		}
	}
	#OPT: Gaullilsts tone down their demands
	option = {
		name = a_new_constitution.705.e
		activate_law = law_type:law_representative_democracy
		random_list = {
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 0
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 1
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 2
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 3
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 4
						}
						add = 10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 5
						}
						add = 10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.e.tt
					change_variable = {
						name = fra_constitutional_referendum_communist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_socialist_support
						add = 1
					}
					change_variable = {
						name = fra_constitutional_referendum_moralist_support
						add = -3
					}
					change_variable = {
						name = fra_constitutional_referendum_gaullist_support
						add = 1
					}
				}
			}
			50 = {
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 0
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 1
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 2
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 3
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 4
						}
						add = -10
					}
				}
				modifier = {
					if = {
						limit = {
							root.var:fra_constitutional_referendum_gaullist_support > 5
						}
						add = -10
					}
				}
				custom_tooltip = {
					text = a_new_constitution.705.n.tt
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 0
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 1
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 2
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 3
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 4
				}
				add = 10
			}
			modifier = {
				trigger = {
					root.var:fra_constitutional_referendum_gaullist_support > 5
				}
				add = 10
			}
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.706
				days = {
					30
					60
				}
			}
		}
	}
}

#REGION: Main Political Groups Compromise
a_new_constitution.706 = {
	type = country_event
	title = a_new_constitution.706.t
	desc = a_new_constitution.706.d
	flavor = a_new_constitution.706.f
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 1
	trigger = {
		#triggered from previous event
		always = yes
	}
	immediate = {
	}
	#OPT: Confirm loss of modifiers
	option = {
		name = a_new_constitution.706.a
		default_option = yes
		if = {
			limit = {
				or = {
					has_modifier = unicameral_parliamentary_republic
					has_modifier = bicameral_parliamentary_republic
					has_modifier = full_presidential_republic
					has_modifier = compromise_presidential_republic
				}
			}
			remove_modifier = unicameral_parliamentary_republic
			remove_modifier = bicameral_parliamentary_republic
			remove_modifier = full_presidential_republic
			remove_modifier = compromise_presidential_republic
		}
		hidden_effect = {
			trigger_event = {
				id = a_new_constitution.601
				days = {
					30
					90
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}
