namespace = libya
libya.1 = { #Spawns Gaddafi
	type = country_event
	placement = root
	title = libya.1.t
	desc = libya.1.d
	flavor = libya.1.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	trigger = {
		exists = c:LBY
		this = c:LBY
		is_subject = false
		year > 1961 #Gaddafi needs to be adult 
		year < 1980 #Gaddafi becomes an Agitator in 1980
		OR = {
            government_legitimacy < 30
		    radical_fraction = { value > 0.15 }
			AND = {
				year >= 1969 #Historical Date of the Coup d'état
				OR = {
           			government_legitimacy < 50
		    		radical_fraction = { value > 0.05 }
				}
			}
		}
		NOT = {has_variable = gaddafi_spawned}
	}
	option = {
		name = libya.1.a
		base = 75
		create_character = { template = lby_muammar_gaddafi_template }
		activate_law = law_type:law_executive
		activate_law = law_type:law_autocracy
		set_variable = gaddafi_spawned
	}
	option = {
		name = libya.1.b
		base = 15
		create_character = { template = lby_muammar_gaddafi_template }
		activate_law = law_type:law_council_elective
		activate_law = law_type:law_autocracy
		activate_law = law_type:law_socialization
		set_variable = gaddafi_spawned
	}
	option = {
		name = libya.1.c
		base = 10
		create_character = { template = lby_muammar_gaddafi_agitator_template }
        add_radicals = {
            value = large_radicals
        }
		set_variable = gaddafi_spawned
	}
}

libya.2 = { #Alternative event if Gaddafi never spawned; Spawns him as an Agitator
	type = country_event
	hidden = yes
	trigger = {
		exists = c:LBY
		this = c:LBY
		year >= 1975
		NOT = {has_variable = gaddafi_spawned}
	}
	immediate = {
		create_character = { template = lby_muammar_gaddafi_agitator_template }
		set_variable = gaddafi_spawned
	}
}

libya.3 = { #Annexes Subjects
	type = country_event
	placement = root
	title = libya.3.t
	desc = libya.3.d
	flavor = libya.3.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.3.a
		ai_chance = {
			base = 60
		}
		c:JMH = { annex = PREV }
	}
	option = {
		name = libya.3.b
		trigger = {
			this.global_country_ranking  < c:JMH.global_country_ranking #Our ranking must be lower (meaning better) than Libya's
		}
		ai_chance = {
			base = 40
			modifier = { #I hate Libya
				trigger = {
					c:JMH = {
						THIS.relations:root <= relations_threshold:hostile
					}
				}
				add = 200
			}
			modifier = { #I'm strong alone
				trigger = {
					country_rank >= rank_value:great_power
				}
				add = 100
			}
		}
		make_independent = yes
		c:JMH = { 
			#trigger_event = libya.4		
			create_diplomatic_play = {
				target_country = ROOT
				type = dp_annex_war
			}
		} 
	}
}

#libya.4

libya.5 = { #Libya wants to form a union with us
	type = country_event
	placement = root
	title = libya.5.t
	desc = libya.5.d
	flavor = libya.5.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.5.a
		default = yes
	}
}

libya.6 = { #Target becomes Libyan Subject
	type = country_event
	placement = root
	title = libya.6.t
	desc = libya.6.d
	flavor = libya.6.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.6.a
		default = yes
	}
}

libya.7 = { #Target does not become Libyan subject
	type = country_event
	placement = root
	title = libya.7.t
	desc = libya.7.d
	flavor = libya.7.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.7.a
		default = yes
	}
}

libya.8 = { #Target does not want to become a subject, but we have some influence
	type = country_event
	placement = root
	title = libya.8.t
	desc = libya.8.d
	flavor = libya.8.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.8.a
		default = yes
		random = {
			chance = 50
			SCOPE:libya_coup_target = {
				trigger_event = libya.9
			}
		}
	}
	option = {
		name = libya.8.b
	}
}

libya.9 = { #Coup d'état against target country
	type = country_event
	placement = root
	title = libya.9.t
	desc = libya.9.d
	flavor = libya.9.f
	icon = "/gfx/interface/icons/objectives/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/naval_mutiny.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	option = {
		name = libya.9.a
		default = yes
		c:LBY = {
			create_diplomatic_pact = {
				country = PREV
				type = jamahiriya
			}
		}
	}
}