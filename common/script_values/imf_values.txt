global_gdp = {
	every_country = {
		add = cwp_gdp
	}
}

global_gdp_div = {
	value = global_gdp
	divide = 1000000000000
}

imf_contribution_value = {
	value = var:imf_contribution
	min = 0
}

imf_contribution_percent_value = {
	value = var:imf_contribution_percent
}

imf_contribution_money = {
	value = gdp
	multiply = {
		value = imf_contribution_percent_value
		divide = 10000
	}
}

imf_contribution_money_to_usd = {
	value = imf_contribution_money
	multiply = currency_global_to_domestic
}

imf_domestic_currency_debt = {
	value = imf_debt_value
	multiply = currency_difference_to_usd
}

imf_domestic_currency_debt_after_removing_contribution = {
	value = imf_contribution_value
	subtract = imf_domestic_currency_debt
	max = 0
}

imf_debt_value = {
	value = var:imf_debt
}

imf_debt_monthly_payment_percentage = {
	value = var:imf_debt_monthly_percentage
	min = 0
}

imf_debt_monthly_payment_value = {
	value = imf_debt_value
	multiply = {
		value = imf_debt_monthly_payment_percentage
		divide = 100
	}
}

imf_debt_monthly_payment_value_domestic = {
	value = imf_domestic_currency_debt
	multiply = {
		value = imf_debt_monthly_payment_percentage
		divide = 100
	}
}

imf_credit_returns = {
	value = {
		every_in_global_list = {
			limit = {
				imf_debt_monthly_payment_value >= 1
			}
			variable = imf_members
			add = imf_debt_monthly_payment_value
		}
		multiply = imf_contribution_share
	}
	divide = {
		value = country_currency_val
		divide = global_var:global_currency.country_currency_val
	}
	if = {
		limit = {
			imf_debt_value >= 1
		}
		subtract = imf_debt_value
		min = 0
	}
}

imf_global_debt = {
	every_in_global_list = {
		variable = imf_members
		add = imf_debt_value
	}
}

imf_contribution_share = {
	value = imf_contribution_value
	divide = imf_reserves
}

imf_reserves = {
	every_in_global_list = {
		limit = {
			imf_contribution_value >= 1
		}
		variable = imf_members
		add = imf_contribution_value
	}
}

imf_reserves_growth = {
	every_in_global_list = { # From member contribution
		variable = imf_members
		add = imf_contribution_money_to_usd
	}
}

imf_debt_interest_growth_global = {
	value = {
		value = imf_interest_rate
		divide = 100
		divide = 12 # Interest Rate is annual
	}
	multiply = imf_global_debt
}

imf_debt_interest_growth = {
	value = {
		value = imf_interest_rate
		divide = 100
		divide = 12 # Interest Rate is annual
	}
	multiply = imf_debt_value
}

imf_debt_payment_percentage = {
	value = imf_debt_value
	multiply = imf_contribution_share # to be used in creditor country scope
}

imf_debt_taken_from_reserve_country = {
	value = imf_contribution_share
	multiply = 2000000 # Test value
}

imf_member_gdp_share = {
	value = cwp_gdp
	divide = {
		value = {
			every_in_global_list = {
				variable = imf_members
				add = cwp_gdp
			}
		}
	}
}

imf_interest_rate = {
	every_country = {
		add = inflation_value
	}
	divide = {
		value = {
			every_country = {
				add = 1
			}
		}
	}
	min = 2
}

imf_test_val = {
	value = ROOT.imf_debt_value
	multiply = THIS.imf_contribution_share
}