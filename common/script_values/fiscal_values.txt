interest_rate = {
	value = var:interest_rate
}

interest_rate_gui = {
	value = var:interest_rate_gui
}

interest_rate_effect = {
	value = interest_rate
	divide = 10
}

# Money Supply
money_supply = {
	value = var:money_supply
}

money_supply_percentage = {
	value = money_supply
	divide = money_supply_max
	multiply = 100	
}

money_supply_growth_percentage = {
	value = money_supply_growth
	divide = money_supply_max
	multiply = 100
}
money_supply_growth = {
	value = 0
	if = {
		limit = {
			has_variable = contractionary_fiscal_policy
		}
		subtract = cwp_gdp_per_capita
		divide = 10
	}
	if = {
		limit = {
			has_variable = stable_fiscal_policy
		}
		value = 0
	}
	if = {
		limit = {
			has_variable = expansionary_fiscal_policy
		}
		add = cwp_gdp_per_capita
		divide = 10
	}
}

money_supply_max = {
	value = cwp_gdp_per_capita
	multiply = 2
}

base_money_supply = {
	value = cwp_gdp_per_capita
	divide = 2
}

### Inflation

inflation_value = {
	value = var:inflation_rate
}

inflation_modifier_mult = {
	value = inflation_value
	divide = 3
}

inflation_growth = {
	value = 0
	# From Excess Money Supply
	if = {
		limit = {
			money_supply_percentage >= 10
		}
		add = {
			value = {
				value = money_supply_percentage
				divide = 30
			}
			desc = INF_MONEY_SUPPLY
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	## From Goods prices
	# Housing
	add = {
		value = inflation_housing_price
		desc = INF_HOUSING_PRICE
		format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
	}
	# Groceries
	if = {
		limit = {
			owner = {
				market = {
					mg:groceries = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = {
			value = {
				value = 0.5
			}
			desc = INF_GROCERIES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:groceries = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = {
			value = {
				value = 0.75
			}
			desc = INF_GROCERIES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	# Clothes
	if = {
		limit = {
			owner = {
				market = {
					mg:clothes = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = {
			value = {
				value = 0.5
			}
			desc = INF_CLOTHES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:clothes = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = {
			value = {
				value = 0.75
			}
			desc = INF_CLOTHES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	# Services
	if = {
		limit = {
			owner = {
				market = {
					mg:services = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = {
			value = {
				value = 0.5
			}
			desc = INF_SERVICES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:services = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = {
			value = {
				value = 0.75
			}
			desc = INF_SERVICES_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	# Furniture
	if = {
		limit = {
			owner = {
				market = {
					mg:furniture = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = {
			value = {
				value = 0.5
			}
			desc = INF_FURNITURE_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:furniture = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = {
			value = {
				value = 0.75
			}
			desc = INF_FURNITURE_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	# Electricity
	if = {
		limit = {
			owner = {
				market = {
					mg:electricity = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = {
			value = {
				value = 0.5
			}
			desc = INF_ELECTRICITY_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:electricity = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = {
			value = {
				value = 0.75
			}
			desc = INF_ELECTRICITY_PRICE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	# From Deficit Money Supply
	if = {
		limit = {
			money_supply_percentage <= -10
		}
		add = {
			value = {
				value = money_supply_percentage
				divide = 30
			}
			desc = INF_DEF_MONEY_SUPPLY
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
	## From Interest Rate
	if = {
		limit = {
			interest_rate > -100
		}
		subtract = {
			value = {
				value = interest_rate_effect
			}
			desc = INF_INTEREST_RATE
			format = "INFLATION_GROWTH_TOOLTIP_FORMAT"
		}
	}
}

inflation_housing_price = {
	# Housing
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.7
					}
				}
			}
		}
		subtract = 0.7
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.6
					}
				}
			}
		}
		subtract = 0.6
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.5
					}
				}
			}
		}
		subtract = 0.5
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.4
					}
				}
			}
		}
		subtract = 0.4
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.3
					}
				}
			}
		}
		subtract = 0.3
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= -0.2
					}
				}
			}
		}
		subtract = 0.2
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.2
					}
				}
			}
		}
		add = 0.2
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.3
					}
				}
			}
		}
		add = 0.3
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.4
					}
				}
			}
		}
		add = 0.4
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.5
					}
				}
			}
		}
		add = 0.5
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.6
					}
				}
			}
		}
		add = 0.6
	}
	if = {
		limit = {
			owner = {
				market = {
					mg:housing = {
						market_goods_pricier >= 0.7
					}
				}
			}
		}
		add = 0.7
	}
}