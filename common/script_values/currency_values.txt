# Currency
foreign_reserves_sell = {
	value = 500000
	multiply = foreign_avg
}
foreign_avg = {
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_usd
			}
		}
		add = global_var:currency_usd_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_frf
			}
		}
		add = global_var:currency_frf_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_gbp
			}
		}
		add = global_var:currency_gbp_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_sur
			}
		}
		add = global_var:currency_sur_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_brz
			}
		}
		add = global_var:currency_brz_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_dem
			}
		}
		add = global_var:currency_dem_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_pen
			}
		}
		add = global_var:currency_pen_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_pes
			}
		}
		add = global_var:currency_pes_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_dnr
			}
		}
		add = global_var:currency_dnr_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_irr
			}
		}
		add = global_var:currency_irr_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_trl
			}
		}
		add = global_var:currency_trl_v
	}
	if = {
		limit = {
			not = {
				var:cwp_currency = flag:currency_yum
			}
		}
		add = global_var:currency_yum_v
	}
	divide = 12
}
foreign_reserves_max = {
	value = gold_reserves_limit
	multiply = 100
}
buying_foreign_currency_rate = {
	value = 500000
	multiply = currency_difference_to_exchange_currency
}
currency_value_growth = {
	value = 0
	if = {
		limit = {
			money_supply_percentage >= 30
		}
		subtract = 0.05
	}
	if = {
		limit = {
			money_supply_percentage <= -30
		}
		add = 0.05
	}
	if = {
		limit = {
			has_variable = contractionary_fiscal_policy
		}
		add = 0.05
	}
	if = {
		limit = {
			has_variable = expansionary_fiscal_policy
		}
		subtract = 0.05
	}	
}
global_currency_value = {
	value = global_var:currency_usd_v
	min = 0.0001
}

country_currency_val = {
	if = {
		limit = {
			var:cwp_currency = flag:currency_usd
		}
		value = global_var:currency_usd_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_frf
		}
		value = global_var:currency_frf_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_gbp
		}
		value = global_var:currency_gbp_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_sur
		}
		value = global_var:currency_sur_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_brz
		}
		value = global_var:currency_brz_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_dem
		}
		value = global_var:currency_dem_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_pen
		}
		value = global_var:currency_pen_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_pes
		}
		value = global_var:currency_pes_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_dnr
		}
		value = global_var:currency_dnr_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_irr
		}
		value = global_var:currency_irr_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_trl
		}
		value = global_var:currency_trl_v
	}
	if = {
		limit = {
			var:cwp_currency = flag:currency_yum
		}
		value = global_var:currency_yum_v
	}
	min = 0.0001
}
currency_difference_to_usd = {
	value = global_currency_value
	divide = country_currency_val
	min = 0.0001
}
player_currency = {
	value = PLAYER.country_currency_val
}

currency_difference_to_exchange_currency = {
	value = player_currency
	divide = country_currency_val
	min = 0.0001
}

