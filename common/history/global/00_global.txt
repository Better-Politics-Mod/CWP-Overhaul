# This is executed last among all history
GLOBAL = {
	# Currency
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:USA # USD
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:GBR # GBP
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:CAN #CAD
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:RUS #SUR
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:POL #PLN
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:BRZ #BRZ
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PEU #PEN
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:MEX #PES
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PER #IRR
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:TUR #TRL
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:YUG #YUF
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:POL #PLN
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:CAN #CAD
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:AST #AUD
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:NZL #NZD
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ITA #ITL
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:JAP #JPY
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SWI #CHF
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ARG #ARS
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ROC #CNY
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PRC #CNY
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PER #INR
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SAF #ZAR
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SWE #SEK
	}
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:EGY #EGP
	}

	set_global_variable = {
		name = currency_usd_v
		value = 1
	}
	set_global_variable = {
		name = currency_frf_v
		value = 0.0093
	}
	set_global_variable = {
		name = currency_gbp_v
		value = 4.03
	}
	set_global_variable = {
		name = currency_sur_v
		value = 0.27
	}
	set_global_variable = {
		name = currency_brz_v
		value = 0.18
	}
	set_global_variable = {
		name = currency_dem_v
		value = 0.27
	}
	set_global_variable = {
		name = currency_pen_v
		value = 0.63
	}
	set_global_variable = {
		name = currency_mxn_v
		value = 0.08
	}
	set_global_variable = {
		name = currency_dnr_v # not set
		value = 1 #TODO
	}
	set_global_variable = {
		name = currency_irr_v
		value = 0.00003
	}
	set_global_variable = {
		name = currency_trl_v
		value = 0.0011
	}
	set_global_variable = {
		name = currency_yuf_v
		value = 0.008
	}
	set_global_variable = {
		name = currency_pln_v
		value = 0.34
	}
	set_global_variable = {
		name = currency_cad_v
		value = 1.10
	}
	set_global_variable = {
		name = currency_aud_v
		value = 0.75
	}
	set_global_variable = {
		name = currency_nzd_v
		value = 0.66
	}
	set_global_variable = {
		name = currency_itl_v
		value = 0.00067
	}
	set_global_variable = {
		name = currency_jpy_v
		value = 0.0028
	}
	set_global_variable = {
		name = currency_chf_v
		value = 0.23
	}
	set_global_variable = {
		name = currency_ars_v
		value = 0.27
	}
	set_global_variable = {
		name = currency_cny_v
		value = 0.20 
	}
	set_global_variable = {
		name = currency_inr_v
		value = 0.30
	}
	set_global_variable = {
		name = currency_zar_v
		value = 0.17
	}
	set_global_variable = {
		name = currency_sek_v
		value = 0.16 
	}
	set_global_variable = {
		name = currency_egp_v
		value = 2.32 
	}
	# Fiscal
	every_country = {
		limit = {
			not = {
				has_variable = foreign_reserves
			}
		}
		set_variable = {
			name = foreign_reserves
			value = 0
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = inflation_rate
			}
		}
		set_variable = {
			name = inflation_rate
			value = 0
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = interest_rate_gui
			}
		}
		set_variable = {
			name = interest_rate_gui
			value = 0
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = interest_rate
			}
		}
		set_variable = {
			name = interest_rate
			value = 0
		}
	}
	every_country = {
		limit = {
			nor = {
				has_variable = contractionary_monetary_policy
				has_variable = stable_monetary_policy
				has_variable = expansionary_monetary_policy
			}
		}
		set_variable = stable_monetary_policy
	}
	every_country = {
		limit = {
			not = {
				has_variable = bank_credibility
			}
		}
		set_variable = {
			name = bank_credibility
			value = 19
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = money_supply
			}
		}
		set_variable = {
			name = money_supply
			value = {
				add = gold_reserves_limit
				divide = 2
			}
		}
	}
	# International List
	every_country = {
		limit = {
			not = {
				has_variable = un_member
			}
		}
		set_country_type = unrecognized
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		set_country_type = recognized
	}
	every_country = {
		limit = {
			has_variable = unsc_member
		}
		add_to_global_variable_list = {
			name = unsc_members_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		add_to_global_variable_list = {
			name = un_members_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_observer
		}
		add_to_global_variable_list = {
			name = un_observers_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			NOR = {
				has_variable = un_observer
				has_variable = un_member
			}
		}
		add_to_global_variable_list = {
			name = un_nonmember_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_headquarters_holder
		}
		add_to_global_variable_list = {
			name = un_headquarters_holder
			target = THIS
		}
	}
	# Currency
	every_country = {
		limit = {
			not = {
				has_variable = cwp_currency
			}
		}
		set_variable = {
			name = cwp_currency
			value = flag:currency_usd
		}
	}
	## UN Variables
	random_country = {
		set_global_variable = {
			name = var_un_memberlist
			value = 0
		}
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		change_global_variable = {
			name = var_un_memberlist
			add = 1
		}
	}
	## Corruption Variables
	every_country = {
		trigger_event = {
			id = debug.100
			days = 1
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = var_readiness
			}
		}
		set_variable = {
			name = var_readiness
			value = 50
		}
	}
	## Habitability Setup
	# Range (%):
	# -1 < 0 < 1
	every_country = {
		every_scope_state = {
			onaction_calc_starting_habitability = yes
			onaction_set_habitability_effects = yes
		}
	}
	## Dynamic Peace deal State Setup
	effect_china_states_scopes_setup = yes
	# Urbanization Setup
	every_country = {
		every_scope_state = {
			set_local_variable = {
				name = var_urban_rate
				value = {
					value = total_urbanization
					divide = {
						value = arable_land
						multiply = 100
						add = 1
						add = total_urbanization
					}
					add = -0.5
					multiply = 50
				}
			}
			remove_modifier = urbanization_modifier
			add_modifier = {
				name = urbanization_modifier
				multiplier = local_var:var_urban_rate
			}
			every_scope_building = {
				limit = {
					is_building_type = building_renewable_energy_facility
				}
				if = {
					limit = {
						state = {
							is_excellent_solar_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_excellent_wind_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_excellent_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_hydroelectric_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_solar_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_wind_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_hydroelectric_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_solar_capacity = yes
						}
					}
					add_modifier = {
						name = poor_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_wind_capacity = yes
						}
					}
					add_modifier = {
						name = poor_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = poor_hydroelectric_capacity
					}
				}
			}
		}
	}
	## Bloc Setup
	every_country = {
		limit = {
			has_diplomatic_pact = {
				who = c:USA
				type = diplomatic_alignment
			}
		}
		effect_western_bloc_nation = yes
	}
	every_country = {
		limit = {
			has_diplomatic_pact = {
				who = c:RUS
				type = diplomatic_alignment
			}
		}
		effect_eastern_bloc_nation = yes
	}
	#Event Variables	
	set_global_variable = {
		name = number_of_mega_earthquakes
		value = 0
	}
	set_global_variable = {
		name = number_of_mega_floods
		value = 0
	}
	set_global_variable = {
		name = number_of_mega_eruptions
		value = 0
	}
	#USA dynamic flag
	s:STATE_CHESAPEAKE = {
		set_variable = {
			name = usa_state_flag_block
			value = yes
		}
	}
	# Party Setup
	every_country = {
		setup_parties = yes
		setup_starting_ideologies = yes
	}
	### Variable Errors Fixing - HACK!  Fix these eventually
	every_country = {
		#Variable is set but is never used. Note that use in localization doesn't count due to technical limitations. Use in unused scripted triggers and effects also does not count
		fix_variable_error = {
			X = asked_un_observer
		}
		fix_variable_error = {
			X = rep_china
		}
		fix_variable_error = {
			X = com_china
		}
		fix_variable_error = {
			X = has_climate_research
		}
		fix_variable_error = {
			X = nato_readiness_changed
		}
		fix_variable_error = {
			X = nato_contribution_changed
		}
		fix_variable_error = {
			X = warsaw_pact_readiness_changed
		}
		fix_variable_error = {
			X = warsaw_pact_contribution_changed
		}
		fix_variable_error = {
			X = nato_headquarters
		}
		fix_variable_error = {
			X = warsaw_pact_headquarters
		}
	}
}
